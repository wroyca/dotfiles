[main]
# Instruct DNF to disable any repository it cannot synchronize with, rather than
# failing the entire operation.
#
# This improves resilience against transient mirror or network issues: a brief
# outage in one repository does not block updates from all others. Partial syncs
# remain visible via logs and notification emitters.
#
# Note that this only affects repository metadata access. Missing packages
# during dependency resolution are still treated as errors.
#
skip_if_unavailable=True

# Ignore the mirror order provided by metalinks and actively probe for the
# fastest available mirror.
#
# While metalinks usually reflect geographical proximity, they do not reliably
# capture real-world throughput or transient availability. Probing introduces
# some additional overhead during metadata fetches, but helps avoid long-tail
# stalls, particularly for large downloads or first-time setups.
#
fastestmirror=True

# Require a minimum sustained download rate of 2 MB/s.
#
# If throughput falls below this threshold for longer than the configured
# socket timeout, the transfer is aborted and another mirror may be selected.
#
# Note that this is intentionally aggressive: on systems with reliable
# connectivity, failing fast is preferable to multi-minute stalls.
#
minrate=2M

# Allow up to 20 concurrent package downloads (the maximum supported value).
#
# This is primarily a throughput optimization. That is, parallel fetches keep
# the pipeline saturated and significantly reduce wall-clock update time,
# especially for batches dominated by small packages.
#
max_parallel_downloads=20
